<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hanary Fam Manager</title>
    
    <!-- PWA Requirements -->
    <link rel="manifest" href="app.webmanifest">
    <meta name="theme-color" content="#FF8A8A">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <!-- Styles - Simple & Cute -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        }
        
        :root {
            --pink: #FF8A8A;
            --mint: #A2E4B8;
            --yellow: #FFD166;
            --purple: #C8B6FF;
            --gray: #F5F5F5;
            --dark: #2E2E2E;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --radius: 20px;
        }
        
        body {
            background: linear-gradient(135deg, #FFE8E8 0%, #F0FFFA 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }
        
        /* App Container */
        .app-container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            border-radius: 30px;
            box-shadow: var(--shadow);
            overflow: hidden;
            min-height: 90vh;
            position: relative;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, var(--pink), #FF6B9D);
            color: white;
            padding: 25px;
            text-align: center;
            border-radius: 0 0 30px 30px;
            position: relative;
        }
        
        .family-avatar {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: var(--pink);
            box-shadow: var(--shadow);
        }
        
        .welcome-text {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        /* Navigation */
        .nav {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            padding: 20px;
            gap: 10px;
        }
        
        .nav-item {
            background: var(--gray);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }
        
        .nav-item:hover {
            transform: translateY(-5px);
        }
        
        .nav-icon {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }
        
        /* Dashboard Cards */
        .dashboard {
            padding: 0 20px;
        }
        
        .card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border: 2px solid var(--gray);
        }
        
        .card-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            color: var(--pink);
            font-size: 18px;
        }
        
        .amount {
            font-size: 28px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .positive { color: var(--mint); }
        .negative { color: var(--pink); }
        
        /* Progress Bars */
        .progress-container {
            margin: 15px 0;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .progress-bar {
            height: 10px;
            background: var(--gray);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s;
        }
        
        /* Lists */
        .list {
            list-style: none;
        }
        
        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--gray);
            margin-bottom: 10px;
            border-radius: 15px;
            border-left: 5px solid var(--pink);
        }
        
        .list-item:nth-child(2) { border-left-color: var(--mint); }
        .list-item:nth-child(3) { border-left-color: var(--yellow); }
        .list-item:nth-child(4) { border-left-color: var(--purple); }
        
        .check-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid var(--pink);
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .checked { background: var(--mint); color: white; }
        
        /* Input Section */
        .input-section {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 20px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            border-radius: 30px 30px 0 0;
            display: none;
        }
        
        .input-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .input-btn {
            padding: 15px;
            border: none;
            border-radius: 15px;
            background: var(--gray);
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .input-btn:hover {
            background: var(--pink);
            color: white;
        }
        
        .amount-input {
            width: 100%;
            padding: 20px;
            font-size: 24px;
            border: 3px solid var(--gray);
            border-radius: 20px;
            text-align: center;
            margin: 10px 0;
        }
        
        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--pink);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate { animation: fadeIn 0.5s; }
        
        /* Responsive */
        @media (max-width: 500px) {
            body { padding: 10px; }
            .app-container { border-radius: 25px; }
        }
    </style>
</head>
<body>
    <!-- Main App Container -->
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <div class="family-avatar">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</div>
            <h1>Hanary Fam</h1>
            <p class="welcome-text">Welcome back! ğŸ’° Balance: $2,540</p>
        </div>
        
        <!-- Navigation -->
        <div class="nav">
            <button class="nav-item" onclick="showSection('dashboard')">
                <span class="nav-icon">ğŸ“Š</span>
                <span>Dashboard</span>
            </button>
            <button class="nav-item" onclick="showSection('finance')">
                <span class="nav-icon">ğŸ’°</span>
                <span>Finance</span>
            </button>
            <button class="nav-item" onclick="showSection('tasks')">
                <span class="nav-icon">âœ…</span>
                <span>Tasks</span>
            </button>
            <button class="nav-item" onclick="showSection('family')">
                <span class="nav-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span>
                <span>Family</span>
            </button>
        </div>
        
        <!-- Dashboard Section -->
        <div id="dashboard" class="dashboard section active">
            <!-- Financial Overview -->
            <div class="card">
                <div class="card-title">
                    <span>ğŸ’° Monthly Budget</span>
                    <span style="color: var(--mint)">$1,200 / $3,000</span>
                </div>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 40%; background: var(--mint);"></div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Stats -->
            <div class="card">
                <div class="card-title">ğŸ“ˆ Quick Stats</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div style="text-align: center;">
                        <div class="amount positive">+$1,200</div>
                        <div style="font-size: 14px; color: #666;">Income</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="amount negative">-$780</div>
                        <div style="font-size: 14px; color: #666;">Expenses</div>
                    </div>
                </div>
            </div>
            
            <!-- Family Tasks -->
            <div class="card">
                <div class="card-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family Tasks</div>
                <ul class="list">
                    <li class="list-item">
                        <span>ğŸ›’ Grocery Shopping</span>
                        <button class="check-btn" onclick="toggleTask(this)">âœ“</button>
                    </li>
                    <li class="list-item">
                        <span>ğŸ§¹ Clean Living Room</span>
                        <button class="check-btn" onclick="toggleTask(this)">âœ“</button>
                    </li>
                    <li class="list-item">
                        <span>ğŸ’µ Pay Electricity Bill</span>
                        <button class="check-btn checked">âœ“</button>
                    </li>
                </ul>
            </div>
            
            <!-- Saving Goals -->
            <div class="card">
                <div class="card-title">ğŸ¯ Family Goals</div>
                <div class="progress-container">
                    <div class="progress-label">
                        <span>ğŸ–ï¸ Beach Trip</span>
                        <span>$1,200 / $2,000</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%; background: var(--yellow);"></div>
                    </div>
                </div>
                <div class="progress-container" style="margin-top: 15px;">
                    <div class="progress-label">
                        <span>ğŸ„ Christmas Fund</span>
                        <span>$300 / $800</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 37%; background: var(--purple);"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Finance Section -->
        <div id="finance" class="dashboard section" style="display: none;">
            <div class="card">
                <div class="card-title">ğŸ’¸ Recent Expenses</div>
                <ul class="list">
                    <li class="list-item">
                        <div>
                            <div style="font-weight: bold;">ğŸ›’ Supermarket</div>
                            <div style="font-size: 12px; color: #666;">Today - Groceries</div>
                        </div>
                        <div class="amount negative">-$85</div>
                    </li>
                    <li class="list-item">
                        <div>
                            <div style="font-weight: bold;">ğŸ” Restaurant</div>
                            <div style="font-size: 12px; color: #666;">Yesterday - Dining</div>
                        </div>
                        <div class="amount negative">-$45</div>
                    </li>
                    <li class="list-item">
                        <div>
                            <div style="font-weight: bold;">â›½ Gas Station</div>
                            <div style="font-size: 12px; color: #666;">2 days ago - Transport</div>
                        </div>
                        <div class="amount negative">-$60</div>
                    </li>
                </ul>
            </div>
            
            <div class="card">
                <div class="card-title">ğŸ“Š Category Breakdown</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div class="input-btn" style="background: #FFE8E8;">ğŸ” Food</div>
                    <div class="input-btn" style="background: #E8FFED;">ğŸ  Home</div>
                    <div class="input-btn" style="background: #FFF6E8;">ğŸš— Transport</div>
                    <div class="input-btn" style="background: #F2E8FF;">ğŸ‰ Entertainment</div>
                </div>
            </div>
        </div>
        
        <!-- Tasks Section -->
        <div id="tasks" class="dashboard section" style="display: none;">
            <div class="card">
                <div class="card-title">ğŸ“‹ Today's Tasks</div>
                <ul class="list">
                    <li class="list-item">
                        <div>
                            <div style="font-weight: bold;">ğŸ‘¨ Dad: Car Wash</div>
                            <div style="font-size: 12px; color: #666;">Due: Today</div>
                        </div>
                        <button class="check-btn" onclick="toggleTask(this)">âœ“</button>
                    </li>
                    <li class="list-item">
                        <div>
                            <div style="font-weight: bold;">ğŸ‘© Mom: Pay Bills</div>
                            <div style="font-size: 12px; color: #666;">Due: Today</div>
                        </div>
                        <button class="check-btn checked">âœ“</button>
                    </li>
                    <li class="list-item">
                        <div>
                            <div style="font-weight: bold;">ğŸ‘§ Lily: Homework</div>
                            <div style="font-size: 12px; color: #666;">Due: Today</div>
                        </div>
                        <button class="check-btn" onclick="toggleTask(this)">âœ“</button>
                    </li>
                </ul>
            </div>
            
            <div class="card">
                <div class="card-title">ğŸ¯ Family Missions</div>
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 60px;">ğŸ–ï¸</div>
                    <h3 style="margin: 10px 0;">Beach Vacation</h3>
                    <div class="amount">$1,200 / $2,000</div>
                    <div class="progress-bar" style="margin: 20px 0;">
                        <div class="progress-fill" style="width: 60%; background: var(--yellow);"></div>
                    </div>
                    <button class="input-btn" onclick="addToGoal()" style="background: var(--yellow);">+ Add $50</button>
                </div>
            </div>
        </div>
        
        <!-- Family Section -->
        <div id="family" class="dashboard section" style="display: none;">
            <div class="card">
                <div class="card-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family Members</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: #FFE8E8; border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ‘¨</div>
                        <div style="font-weight: bold;">Dad</div>
                        <div style="font-size: 12px; color: #666;">5 tasks done</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: #E8FFED; border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ‘©</div>
                        <div style="font-weight: bold;">Mom</div>
                        <div style="font-size: 12px; color: #666;">8 tasks done</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: #FFF6E8; border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ‘§</div>
                        <div style="font-weight: bold;">Lily</div>
                        <div style="font-size: 12px; color: #666;">3 tasks done</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: #F2E8FF; border-radius: 50%; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 24px;">ğŸ‘¦</div>
                        <div style="font-weight: bold;">Max</div>
                        <div style="font-size: 12px; color: #666;">4 tasks done</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">ğŸ† Family Score</div>
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 48px; margin: 10px 0;">â­ 2,540</div>
                    <div style="color: #666;">Total family points</div>
                    <button class="input-btn" onclick="showRewards()" style="background: var(--purple); margin-top: 15px;">Claim Rewards</button>
                </div>
            </div>
        </div>
        
        <!-- Input Section for Adding Expenses -->
        <div id="inputSection" class="input-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>â• Add Expense</h3>
                <button onclick="hideInput()" style="font-size: 24px; background: none; border: none; cursor: pointer;">Ã—</button>
            </div>
            
            <input type="number" class="amount-input" placeholder="0" id="expenseAmount">
            
            <div class="input-group">
                <button class="input-btn" onclick="setAmount(20)">$20</button>
                <button class="input-btn" onclick="setAmount(50)">$50</button>
                <button class="input-btn" onclick="setAmount(100)">$100</button>
            </div>
            
            <div style="margin: 20px 0;">
                <div style="font-weight: bold; margin-bottom: 10px;">Category</div>
                <div class="input-group">
                    <button class="input-btn" onclick="setCategory('food')">ğŸ” Food</button>
                    <button class="input-btn" onclick="setCategory('home')">ğŸ  Home</button>
                    <button class="input-btn" onclick="setCategory('transport')">ğŸš— Transport</button>
                </div>
            </div>
            
            <button onclick="addExpense()" style="width: 100%; padding: 20px; background: var(--pink); color: white; border: none; border-radius: 15px; font-size: 18px; cursor: pointer;">Add Expense</button>
        </div>
    </div>
    
    <!-- Floating Action Button -->
    <div class="fab" onclick="showInput()">
        +
    </div>

    <!-- JavaScript -->
    <script>
        // Simple data storage (in real app, use Firebase/localStorage)
        let familyData = {
            balance: 2540,
            monthlyBudget: 3000,
            monthlySpent: 1200,
            beachGoal: 1200,
            beachTarget: 2000,
            tasks: [
                { name: "Grocery Shopping", done: false },
                { name: "Clean Living Room", done: false },
                { name: "Pay Electricity Bill", done: true }
            ]
        };
        
        // Show/hide sections
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.style.background = 'var(--gray)';
            });
            
            // Show selected section
            document.getElementById(sectionId).style.display = 'block';
            
            // Highlight active nav item
            event.currentTarget.style.background = 'var(--pink)';
            event.currentTarget.style.color = 'white';
            
            // Add animation
            document.getElementById(sectionId).classList.add('animate');
            setTimeout(() => {
                document.getElementById(sectionId).classList.remove('animate');
            }, 500);
        }
        
        // Toggle task completion
        function toggleTask(button) {
            button.classList.toggle('checked');
            
            // Update family score
            if (button.classList.contains('checked')) {
                familyData.balance += 10;
                updateBalance();
                showNotification("ğŸ‰ Task completed! +10 points");
            }
        }
        
        // Update balance display
        function updateBalance() {
            document.querySelector('.welcome-text').textContent = 
                `Welcome back! ğŸ’° Balance: $${familyData.balance}`;
        }
        
        // Show input section
        function showInput() {
            document.getElementById('inputSection').style.display = 'block';
            document.getElementById('expenseAmount').focus();
        }
        
        // Hide input section
        function hideInput() {
            document.getElementById('inputSection').style.display = 'none';
        }
        
        // Set amount for expense
        function setAmount(amount) {
            document.getElementById('expenseAmount').value = amount;
        }
        
        // Set category
        function setCategory(category) {
            // In a real app, store the category
            console.log("Category selected:", category);
        }
        
        // Add expense
        function addExpense() {
            const amount = parseFloat(document.getElementById('expenseAmount').value);
            
            if (amount && amount > 0) {
                // Update data
                familyData.balance -= amount;
                familyData.monthlySpent += amount;
                
                // Update UI
                updateBalance();
                updateProgressBars();
                
                // Show notification
                showNotification(`ğŸ’¸ Expense added: -$${amount}`);
                
                // Reset and hide
                document.getElementById('expenseAmount').value = '';
                hideInput();
                
                // Add to recent expenses (in real app, store in array)
                const financeSection = document.getElementById('finance');
                const list = financeSection.querySelector('.list');
                const newItem = document.createElement('li');
                newItem.className = 'list-item';
                newItem.innerHTML = `
                    <div>
                        <div style="font-weight: bold;">ğŸ›ï¸ New Expense</div>
                        <div style="font-size: 12px; color: #666;">Just now</div>
                    </div>
                    <div class="amount negative">-$${amount}</div>
                `;
                list.prepend(newItem);
            }
        }
        
        // Add to goal
        function addToGoal() {
            familyData.beachGoal += 50;
            familyData.balance -= 50;
            
            updateBalance();
            updateProgressBars();
            
            showNotification("ğŸ¯ Added $50 to Beach Trip goal!");
        }
        
        // Update progress bars
        function updateProgressBars() {
            // Monthly budget
            const budgetPercent = (familyData.monthlySpent / familyData.monthlyBudget) * 100;
            document.querySelector('.progress-fill').style.width = `${Math.min(budgetPercent, 100)}%`;
            
            // Beach goal
            const goalPercent = (familyData.beachGoal / familyData.beachTarget) * 100;
            document.querySelectorAll('.progress-fill')[1].style.width = `${goalPercent}%`;
            
            // Update amounts
            document.querySelector('.card-title span:last-child').textContent = 
                `$${familyData.monthlySpent} / $${familyData.monthlyBudget}`;
            
            document.querySelectorAll('.progress-label span:last-child')[0].textContent = 
                `$${familyData.beachGoal} / $${familyData.beachTarget}`;
        }
        
        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: white;
                padding: 15px 20px;
                border-radius: 15px;
                box-shadow: var(--shadow);
                z-index: 1000;
                animation: slideIn 0.3s;
                border-left: 5px solid var(--pink);
            `;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // PWA Installation
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button (you can add this if needed)
            setTimeout(() => {
                if (confirm("ğŸ“± Install Hanary Fam Manager as an app for easier access?")) {
                    installApp();
                }
            }, 3000);
        });
        
        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('App installed successfully');
                    }
                    deferredPrompt = null;
                });
            }
        }
        
        // Add CSS for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            updateProgressBars();
            console.log("Hanary Fam Manager loaded! ğŸ¡");
        });
    </script>
</body>
</html>